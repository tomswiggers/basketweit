jQuery(function(e){jQuery("select.chosen_select").chosen({disable_search_threshold:10});jQuery("select.chosen_select_dob").chosen({disable_search_threshold:32});jQuery("select.chosen_select_nostd").chosen({allow_single_deselect:"true"});jQuery(".wpcm_stats-tabs a").click(function(){var e=jQuery(this).attr("href");jQuery(this).parent().addClass("tabs").siblings("li").removeClass("tabs");jQuery(this).parent().parent().parent().find(".tabs-panel").hide();jQuery(e).show();return false});jQuery(".post-type-wpcm_match #poststuff #post-body-content").hide();jQuery("#wpclubmanager-match-result").on("change","#wpcm_played",function(){played=jQuery(this).prop("checked");if(played){jQuery(".post-type-wpcm_match #poststuff #post-body-content").show();jQuery("#wpclubmanager-match-result #results-table").show();jQuery('.post-type-wpcm_match #poststuff #postexcerpt').hide()}else{jQuery("#wpclubmanager-match-result #results-table").hide();jQuery(".post-type-wpcm_match #poststuff #post-body-content").hide()}});jQuery("#wpclubmanager-match-result #wpcm_played").change();jQuery('#wpcm_players table .names input[type="checkbox"]').on("change",function(){player_id=jQuery(this).attr("data-player");jQuery(this).closest("tr").find('input[type="number"]').prop("disabled",!jQuery(this).prop("checked"));jQuery(this).closest("tr").find('input[data-card="yellow"], input[data-card="red"]').prop("disabled",!jQuery(this).prop("checked"));jQuery(this).closest("tr").find("select").prop("disabled",!jQuery(this).prop("checked"));jQuery(this).closest("tr").find('input[type="radio"]').prop("disabled",!jQuery(this).prop("checked"))});jQuery('#wpcm_players table input[type="radio"]').click(function(){jQuery('input[type="radio"]').prop("checked",false);jQuery(this).prop("checked",true)});wpcm_filter_team_players=function(e){var e=jQuery("#wpcm_match_team").val();if(e==null){jQuery("#wpcm_players table tbody tr").show().find("input")}else if(e!="0"){jQuery("#wpcm_players table tbody tr").hide().find("input");jQuery("#wpcm_players table tbody tr.team_"+e).show().find("input")}else{jQuery("#wpcm_players table tbody tr").show().find("input")}};wpcm_filter_team_players();jQuery("#wpcm_match_team").on("change",function(){wpcm_filter_team_players()});updateCounter=function(){var e=jQuery("#wpcm_lineup input.player-select:checked").length;var t=jQuery("#wpcm_subs input.player-select:checked").length;if(e>0){jQuery("#wpcm_lineup .counter").text(""+e+"")}else{jQuery("#wpcm_lineup .counter").text("0")}if(t>0){jQuery("#wpcm_subs .counter").text(""+t+"")}else{jQuery("#wpcm_subs .counter").text("0")}};jQuery("#wpcm_lineup .counter, #wpcm_subs .counter").text(function(){updateCounter()});jQuery("#wpcm_lineup input:checkbox, #wpcm_subs input:checkbox").on("change",function(){updateCounter()});jQuery("#wpclubmanager-player-stats input").change(function(){index=jQuery(this).attr("data-index");value=0;jQuery(this).closest("table").find("tbody tr").each(function(){value+=parseInt(jQuery(this).find('input[data-index="'+index+'"]').val())});jQuery(this).closest("table").find('tfoot tr input[data-index="'+index+'"]').val(value)});jQuery("#wpclubmanager-club-stats input").change(function(){index=jQuery(this).attr("data-index");value=0;jQuery(this).closest("table").find("tbody tr").each(function(){value+=parseInt(jQuery(this).find('input[data-index="'+index+'"]').val())});jQuery(this).closest("table").find('tfoot tr input[data-index="'+index+'"]').val(value);jQuery("#leaguetable #totalstats-p").val(Number(jQuery("#leaguetable #autostats-p").val())+Number(jQuery("#leaguetable #manualstats-p").val()));jQuery("#leaguetable #totalstats-w").val(Number(jQuery("#leaguetable #autostats-w").val())+Number(jQuery("#leaguetable #manualstats-w").val()));jQuery("#leaguetable #totalstats-d").val(Number(jQuery("#leaguetable #autostats-d").val())+Number(jQuery("#leaguetable #manualstats-d").val()));jQuery("#leaguetable #totalstats-l").val(Number(jQuery("#leaguetable #autostats-l").val())+Number(jQuery("#leaguetable #manualstats-l").val()));jQuery("#leaguetable #totalstats-f").val(Number(jQuery("#leaguetable #autostats-f").val())+Number(jQuery("#leaguetable #manualstats-f").val()));jQuery("#leaguetable #totalstats-a").val(Number(jQuery("#leaguetable #autostats-a").val())+Number(jQuery("#leaguetable #manualstats-a").val()));jQuery("#leaguetable #totalstats-gd").val(Number(jQuery("#leaguetable #autostats-gd").val())+Number(jQuery("#leaguetable #manualstats-gd").val()));jQuery("#leaguetable #totalstats-pts").val(Number(jQuery("#leaguetable #autostats-pts").val())+Number(jQuery("#leaguetable #manualstats-pts").val()))});var t=jQuery(".wpcm-sortable");t.sortable({cursor:"move",update:function(e,n){jQuery("#loading-animation").show();opts={url:ajaxurl,type:"POST",async:true,cache:false,dataType:"json",data:{action:"item_sort",order:t.sortable("toArray").toString()},success:function(e){jQuery("#loading-animation").hide();return},error:function(e,t,n){alert(n);alert("There was an error saving the updates");jQuery("#loading-animation").hide();return}};jQuery.ajax(opts)}});jQuery(".wpcm-add-video").click(function(){jQuery(this).closest("fieldset").hide().siblings(".wpcm-video-field").show();return false});jQuery(".wpcm-remove-video").click(function(){jQuery(this).closest("fieldset").hide().siblings(".wpcm-video-adder").show().siblings(".wpcm-video-field").find("input").val(null);return false})})